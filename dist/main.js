"use strict";(()=>{var t={id:"acode.chattu.chat",name:"Chattu",main:"dist/main.js",version:"1.0.0",readme:"readme.md",icon:"icon.png",files:[],minVersionCode:290,author:{name:"Sanjeet Kumar",email:"sanjeetk.dev@gmail.com",github:"sanjeetk-dev"}};var n=acode.require("sidebarApps"),h=class{constructor(){n.get(t.id)&&n.remove(t.id),this.initSideBar()}async init(a,e,{cacheFileUrl:r,cacheFile:l}={}){this.baseUrl=a&&a.endsWith("/")?a:(a||"")+"/",acode.addIcon("chat-icon",this.baseUrl+"icon.png"),this.$style||(this.$style=tag("link",{rel:"stylesheet",href:this.baseUrl+"main.css"}),document.head.append(this.$style))}initSideBar(){n.get(t.id)||n.add("chat-icon",t.id,"Chattu",a=>{let e=document.createElement("div");e.classList.add("scroll","chat-container"),e.style.height="100%",e.style.minHeight="100vh",e.style.maxHeight="100vh",e.style.overflowY="auto",e.setAttribute("role","region"),e.setAttribute("aria-label","Chattu sidebar");let r=tag("header",{className:"chat-header"}),l=tag("h1",{textContent:"Chattu",className:"chat-title"}),s=tag("input",{className:"chat-search",placeholder:"Search users\u2026",type:"search","aria-label":"Search users"});r.append(l,s);let i=tag("div",{className:"container",role:"list"});Array.from({length:10}).forEach((p,d)=>{let o=tag("div",{className:"user-card",textContent:`User ${d+1}`,role:"listitem",tabIndex:0});i.append(o)}),e.append(r,i),s.addEventListener("input",p=>{let d=p.target.value.toLowerCase().trim();Array.from(i.children).forEach(o=>{let g=o.textContent.toLowerCase();o.style.display=g.includes(d)?"":"none"})}),a.innerHTML="",a.appendChild(e),this._sidebar={container:a,content:e,search:s,userContainer:i}},!1,a=>{console.log("Chattu selected")})}async destroy(){try{this.$style&&this.$style.parentNode&&this.$style.remove()}catch(a){console.warn("Failed removing style:",a)}try{n.remove(t.id)}catch(a){console.warn("Failed removing sidebar app:",a)}this._sidebar&&this._sidebar.search&&this._sidebar.search.removeEventListener("input",this._sidebar.searchHandler),this._sidebar=null}};if(window.acode){let c=new h;acode.setPluginInit(t.id,async(a,e,r)=>{a.endsWith("/")||(a+="/"),await c.init(a,e,r)}),acode.setPluginUnmount(t.id,()=>{c.destroy()})}})();
