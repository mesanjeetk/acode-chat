"use strict";(()=>{var r={id:"acode.chattu.chat",name:"Chattu",main:"dist/main.js",version:"1.0.0",readme:"readme.md",icon:"icon.png",files:[],minVersionCode:290,author:{name:"Sanjeet Kumar",email:"sanjeetk.dev@gmail.com",github:"sanjeetk-dev"}};var p=acode.require("sidebarApps"),d=class{constructor(){this.initSideBar()}async init(a,e,{cacheFileUrl:t,cacheFile:h}={}){this.baseUrl=a&&a.endsWith("/")?a:(a||"")+"/",acode.addIcon("chat-icon",this.baseUrl+"icon.png"),this.$style||(this.$style=tag("link",{rel:"stylesheet",href:this.baseUrl+"main.css"}),document.head.append(this.$style))}initSideBar(){p.add("chat-icon",r.id,"Chattu",a=>{let e=document.createElement("div");e.classList.add("scroll","chat-container"),e.style.height="100%",e.style.minHeight="100vh",e.style.maxHeight="100vh",e.style.overflowY="auto",e.setAttribute("role","region"),e.setAttribute("aria-label","Chattu sidebar");let t=tag("header",{className:"chat-header"}),h=tag("h1",{textContent:"Chattu",className:"chat-title"}),c=tag("input",{className:"chat-search",placeholder:"Search users\u2026",type:"search","aria-label":"Search users"});t.append(h,c);let n=tag("div",{className:"container",role:"list"});Array.from({length:10}).forEach((l,s)=>{let i=tag("div",{className:"user-card",textContent:`User ${s+1}`,role:"listitem",tabIndex:0});n.append(i)}),e.append(t,n),c.addEventListener("input",l=>{let s=l.target.value.toLowerCase().trim();Array.from(n.children).forEach(i=>{let g=i.textContent.toLowerCase();i.style.display=g.includes(s)?"":"none"})}),a.innerHTML="",a.appendChild(e),this._sidebar={container:a,content:e,search:c,userContainer:n}},!1,a=>{console.log("Chattu selected")})}async destroy(){try{this.$style&&this.$style.parentNode&&this.$style.remove()}catch(a){console.warn("Failed removing style:",a)}try{p.remove(r.id)}catch(a){console.warn("Failed removing sidebar app:",a)}this._sidebar&&this._sidebar.search&&this._sidebar.search.removeEventListener("input",this._sidebar.searchHandler),this._sidebar=null}};if(window.acode){let o=new d;acode.setPluginInit(r.id,async(a,e,t)=>{a.endsWith("/")||(a+="/"),await o.init(a,e,t)}),acode.setPluginUnmount(r.id,()=>{o.destroy()})}})();
