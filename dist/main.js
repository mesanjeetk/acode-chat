"use strict";(()=>{var t={id:"acode.chattu.chat",name:"Chattu",main:"dist/main.js",version:"1.0.0",readme:"readme.md",icon:"icon.png",files:[],minVersionCode:290,author:{name:"Sanjeet Kumar",email:"sanjeetk.dev@gmail.com",github:"sanjeetk-dev"}};var d=acode.require("sidebarApps"),h=class{constructor(){this.initSideBar(),console.log(d.get(t.id))}async init(a,e,{cacheFileUrl:r,cacheFile:p}={}){this.baseUrl=a&&a.endsWith("/")?a:(a||"")+"/",acode.addIcon("chat-icon",this.baseUrl+"icon.png"),this.$style||(this.$style=tag("link",{rel:"stylesheet",href:this.baseUrl+"main.css"}),document.head.append(this.$style))}initSideBar(){d.add("chat-icon",t.id,"Chattu",a=>{let e=document.createElement("div");e.classList.add("scroll","chat-container"),e.style.maxHeight="400px",e.style.overflowY="auto",e.setAttribute("role","region"),e.setAttribute("aria-label","Chattu sidebar");let r=tag("header",{className:"chat-header"}),p=tag("h1",{textContent:"Chattu",className:"chat-title"}),c=tag("input",{className:"chat-search",placeholder:"Search users\u2026",type:"search","aria-label":"Search users"});r.append(p,c);let n=tag("div",{className:"container scroll",role:"list"});Array.from({length:100}).forEach((l,s)=>{let i=tag("div",{className:"user-card",textContent:`User ${s+1}`,role:"listitem",tabIndex:0});n.append(i)}),e.append(r,n),c.addEventListener("input",l=>{let s=l.target.value.toLowerCase().trim();Array.from(n.children).forEach(i=>{let g=i.textContent.toLowerCase();i.style.display=g.includes(s)?"":"none"})}),a.innerHTML="",a.appendChild(e),this._sidebar={container:a,content:e,search:c,userContainer:n}},!1,a=>{console.log("Chattu selected")})}async destroy(){try{this.$style&&this.$style.parentNode&&this.$style.remove()}catch(a){console.warn("Failed removing style:",a)}try{d.remove(t.id)}catch(a){console.warn("Failed removing sidebar app:",a)}this._sidebar&&this._sidebar.search&&this._sidebar.search.removeEventListener("input",this._sidebar.searchHandler),this._sidebar=null}};if(window.acode){let o=new h;acode.setPluginInit(t.id,async(a,e,r)=>{a.endsWith("/")||(a+="/"),await o.init(a,e,r)}),acode.setPluginUnmount(t.id,()=>{o.destroy()})}})();
